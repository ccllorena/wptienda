{"version":3,"file":"storefront-mega-menus.min.js","sources":["models/widget.js","collections/widgets.js","models/mega-menu.js","collections/mega-menus.js","views/customizer.js","views/configurator.js","views/widget.js","views/add-widgets.js","storefront-mega-menus.js"],"names":["wp","$","customize","api","SMM","WidgetModel","Backbone","Model","extend","defaults","id","x","y","w","h","initialize","this","on","maybeChangeState","isSaved","state","get","set","window","jQuery","WidgetsCollection","Collection","model","MegaMenuModel","item_id","active","widgets","newObj","orderedWidgets","itemId","map","data","savedMegaMenus","obj","_","sortBy","MegaMenusCollection","MenuCustomizerView","View","el","events","click .control-section-nav_menu h3","click .customize-section-back","click .smm-menu-configure","click .item-delete","click .reorder-toggle","click .add-new-menu-item","configurator","self","trackNewItems","initConfigurator","previewer","bind","closeConfigurator","setupUI","addButtons","addActive","menuItems","$el","find","each","k","menuItem","html","length","attr","replace","addClass","append","l10n","mega_menu","before","removeButtons","remove","removeClass","setTimeout","isMegaMenu","ConfiguratorView","configuratorStatus","configureMegaMenu","event","megaMenu","preventDefault","currentTarget","item_title","closest","text","item_top_level","hasClass","trigger","killSwitch","item","open","found","MegaMenusData","parseInt","menu","grid","template","menuItemID","menuItemTitle","menuItemisTopLevel","menuItemControl","addWidgets","click .smm-add-new-widget","click .smm-enable-mega-menu","initGridstack","AddWidgetsView","parent","loadMegaMenu","close","e","isAddNewBtn","target","is","isAddWidgetsPanel","closeAddWidgets","gridstack","item_class","width","height","cell_height","cell_width","resizable","handles","_sameMenuItem","destroySetting","emptyConfigurator","setupModel","updateWidgets","render","toggleTopLevelNotice","control","String","menuItemSetting","trackTopLevelNotice","setting","css","unbind","remove_all","toJSON","checked","models","processWidget","isEmpty","setActiveMenu","add","enableCheckbox","$checkbox","updatePreview","widget","childWidgetItemView","WidgetView","className","maybeToggleEmptyClass","_getGridData","updateSingleWidget","node","res","escape","toggleAddWidgets","$btn","openAddWidgets","$widgets","scrollTop","clearSearch","items","toggleClass","menu_item_parent","toggle","settingID","settingArgs","settingData","type","transport","has","create","callbacks","disable","isEqual","preview","oldSettingID","oldSetting","_dirty","display","$item","id_base","title","click .smm-widget-toggle","click .widget-control-close","click .widget-control-remove","submit #smm-save-widget","change .form input","keyup .form input","options","$widgetForm","updateWidgetDebounced","Error","Widgets","getWidgetFormControlForWidget","liveUpdateMode","updateWidget","container","clone","hide","debounce","doWidgetUpdate","which","checkValidity","channel","isUpdating","updatedWidgetId","params","widget_id","add_widget","toggleForm","collection","$widget","$configurator","configuratorRightEdge","widgetRightEdge","animate","not","is_wide","offset","left","prop","$widgetRoot","$widgetContent","$eventForm","_getInputs","serialize","i","eq","val","prepend","complete","message","status","ajaxFinished","noChange","submit","removeWidget","smmSidebarWidgets","widgetPosition","inactiveWidgets","removedIdBase","value","slice","indexOf","splice","unique","savedWidgetIds","push","parseWidgetId","availableWidgets","findWhere","remove_widget","updateWidgetTitle","$title","$input","widgetId","matches","parsed","number","match","click .wp-widget","input #smm-widgets-filter","keyup #smm-widgets-filter","debounceSearch","searchTerm","listenTo","updateList","filterWidgets","printWidget","appendTo","widgetTpl","addToGrid","createWPWidget","newWidgetModel","widgetID","sidebarWidgetsControl","settingId","addWidget","doSearch","_wpCustomizeSMMSettings","MegaMenus","request","requestData","nav_menu_item_updates","key","error","previous_post_id","post_id","refresh","nonce","ajax","post","done","iframe","login","show","cheatin","fail","console","nonces"],"mappings":"CAAA,SAAYA,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAUdD,EAAIC,IAAIC,YAAcC,SAASC,MAAMC,QACpCC,UACCC,GAAM,KACNC,EAAK,KACLC,EAAK,KACLC,EAAK,KACLC,EAAK,MAGNC,WAAY,WACXC,KAAKC,GAAI,SAAUD,KAAKE,mBAGzBA,iBAAkB,WACjB,GAAIC,GAAUhB,EAAIiB,MAAO,SAAUC,KAE9BF,IAGJhB,EAAIiB,MAAO,SAAUE,KAAK,QAKzBC,OAAOvB,GAAIwB,QC3ChB,SAAYxB,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAUdD,EAAIC,IAAIqB,kBAAoBnB,SAASoB,WAAWlB,QAC/CmB,MAAOxB,EAAIC,IAAIC,gBAGZkB,OAAOvB,GAAIwB,QCvBhB,SAAYxB,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAUdD,EAAIC,IAAIwB,cAAgBtB,SAASC,MAAMC,QACtCC,UACCoB,QAAS,KACTC,QAAQ,EACRC,QAAS,MAGVhB,WAAY,WACX,GAAIiB,GAAwCC,EAAhCC,EAASlB,KAAKK,IAAK,UAG/BG,QAAOW,IAAKhC,EAAIC,IAAIgC,KAAKC,eAAgB,SAAUC,GAC7CA,EAAIT,UAAYK,IACpBF,EAASM,KAINN,GAGJC,EAAiBM,EAAEC,OAAQR,EAAOD,QAAS,KAE3Cf,KAAKM,KACJS,QAAW,GAAI5B,GAAIC,IAAIqB,kBAAmBQ,GAC1CH,OAAUE,EAAOF,UAGlBd,KAAKM,KACJS,QAAW,GAAI5B,GAAIC,IAAIqB,oBAIzBT,KAAKC,GAAI,SAAUD,KAAKE,mBAGzBA,iBAAkB,WACjB,GAAIC,GAAUhB,EAAIiB,MAAO,SAAUC,KAE9BF,IAGJhB,EAAIiB,MAAO,SAAUE,KAAK,QAMzBC,OAAOvB,GAAIwB,QClEhB,SAAYxB,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAUdD,EAAIC,IAAIqC,oBAAsBnC,SAASoB,WAAWlB,QACjDmB,MAAOxB,EAAIC,IAAIwB,kBAGZL,OAAOvB,GAAIwB,QCvBhB,SAAYxB,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAYdD,EAAIC,IAAIsC,mBAAqB1C,EAAGM,SAASqC,KAAKnC,QAE7CoC,GAAI,6BAEJC,QACCC,qCAAsC,UACtCC,gCAAiC,aACjCC,4BAA6B,oBAE7BC,qBAAsB,oBACtBC,wBAAyB,oBACzBC,2BAA4B,qBAG7BC,aAAc,KAEdrC,WAAY,WACX,GAAIsC,GAAOrC,IAGXqC,GAAKC,gBAGLD,EAAKE,mBAGLpD,EAAIqD,UAAUC,KAAM,MAAOJ,EAAKK,oBAGjCC,QAAS,WACR3C,KAAK4C,aACL5C,KAAK6C,aAGND,WAAY,WACX,GAAIP,GAAOrC,KAAM8C,EAAYT,EAAKU,IAAIC,KAAM,mCAE5C/D,GAAEgE,KAAMhE,EAAG6D,GAAa,SAAUI,EAAGC,GAEpC,GAAIjC,GAAQkC,CAGPnE,GAAGkE,GAAWH,KAAM,uBAAwBK,SAKjDnC,EAASjC,EAAGkE,GAAWG,KAAM,MAC7BpC,EAASA,EAAOqC,QAAS,mCAAoC,IAG7DH,EAAOnE,EAAG,OAAQuE,SAAU,4BAC5BJ,EAAKK,OAAQ,UACbL,EAAKK,OAAQxE,EAAG,YAAauE,SAAU,uCAAwCF,KAAM,eAAgBpC,GAASkC,KAAMjE,EAAIC,IAAIgC,KAAKsC,KAAKC,YAEtI1E,EAAGkE,GAAWH,KAAM,sBAAuBY,OAAQR,OAKrDS,cAAe,WACd,GAAIxB,GAAOrC,IAGXqC,GAAKU,IAAIC,KAAM,cAAec,SAG9BzB,EAAKU,IAAIC,KAAM,qBAAsBe,YAAa,qBAGnDzB,cAAe,WACd,GAAID,GAAOrC,IAEXf,GAAG,yBAA0BgB,GAAI,QAAS,WAGzC+D,WAAY,WACX3B,EAAKO,cACH,QAILC,UAAW,WACV,GAAIR,GAAOrC,KAAM8C,EAAYT,EAAKU,IAAIC,KAAM,mCAE5C/D,GAAEgE,KAAMhE,EAAG6D,GAAa,SAAUI,EAAGC,GACpC,GAAIjC,EAGJA,GAASjC,EAAGkE,GAAWG,KAAM,MAC7BpC,EAASA,EAAOqC,QAAS,mCAAoC,IAGxDlB,EAAK4B,WAAY/C,IACrBjC,EAAGkE,GAAWH,KAAM,qBAAsBQ,SAAU,uBAKvDjB,iBAAkB,WACjB,GAAIF,GAAOrC,IAGXqC,GAAKD,aAAe,GAAIjD,GAAIC,IAAI8E,iBAGhC5E,SAASW,GAAI,wBAAyBoC,EAAK8B,mBAAoB9B,IAGhE+B,kBAAmB,SAAUC,GAC5B,GAAIlB,GAAUmB,CAEdD,GAAME,iBAENpB,EAAWlE,EAAGoF,EAAMG,eAEpBF,GACCzD,QAASsC,EAAS/B,KAAM,WACxBqD,WAAYtB,EAASuB,QAAS,oCAAqC1B,KAAM,oBAAqB2B,OAC9FC,eAAgBzB,EAASuB,QAAS,oCAAqCG,SAAU,sBAIlFvF,SAASwF,QAAS,kBAAmBR,IAGtCS,WAAY,WACX,GAAI1C,GAAOrC,IAGXqC,GAAKwB,gBAGLxB,EAAKK,qBAGNA,kBAAmB,WAGlBpD,SAASwF,QAAS,yBAGnBX,mBAAoB,SAAUG,GAC7B,GAAiBU,GAAb3C,EAAOrC,IAEXgF,GAAO3C,EAAKU,IAAIC,KAAM,qCAAuCsB,EAASzD,QAAU,MAGhFwB,EAAKU,IAAIC,KAAM,8BAA+Be,YAAa,8BAGtD,IAASO,EAASW,MACtBD,EAAKxB,SAAU,8BAIjBS,WAAY,SAAU/C,GACrB,GAAIgE,IAAQ,CAwBZ,OArBAA,GAAQ/F,EAAIC,IAAI+F,cAAcnC,KAAM,SAAUrC,GAC7C,MAAKA,GAAMN,IAAK,aAAgB+E,SAAUlE,KACpC,IAASP,EAAMN,IAAK,WACjB,GAIF,IAID6E,GACN1E,OAAOW,IAAKhC,EAAIC,IAAIgC,KAAKC,eAAgB,SAAUgE,GAC7CD,SAAUC,EAAKxE,WAAcuE,SAAUlE,KACtC,IAASmE,EAAKvE,SAClBoE,GAAQ,KAMPA,GACG,GAGD,OAIL3E,OAAOvB,GAAIwB,QClNhB,SAAYxB,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAWdD,EAAIC,IAAI8E,iBAAmBlF,EAAGM,SAASqC,KAAKnC,QAE3CoC,GAAI,oBACJQ,aAAc,KACdkD,KAAM,KACN3E,MAAO,KACP4E,SAAU,KACVC,WAAY,KACZC,cAAe,GACfC,oBAAoB,EACpBC,gBAAiB,KACjBC,WAAY,KACZ/D,QACCgE,4BAA6B,mBAC7BC,8BAA+B,kBAGhC/F,WAAY,WACX,GAAIsC,GAAOrC,IAEXqC,GAAKkD,SAAWvG,EAAGuG,SAAU,oBAC7BlD,EAAKD,aAAeC,EAAKU,IAAIC,KAAM,kBAGnCX,EAAK0D,gBAGL1D,EAAKuD,WAAa,GAAIzG,GAAIC,IAAI4G,gBAAiBC,OAAQ5D,IAGvD/C,SAASW,GAAI,kBAAmBoC,EAAK6D,aAAc7D,GACnD/C,SAASW,GAAI,uBAAwBoC,EAAK8D,MAAO9D,GAGjDpD,EAAG,0CAA2CgB,GAAI,gBAAiB,SAAUmG,GAC5E,GAAIC,GAAcpH,EAAGmH,EAAEE,QAASC,GAAI,8CACnCC,EAAoBvH,EAAGmH,EAAEE,QAASC,GAAI,yCAClCtH,EAAG,oBAAqB4F,SAAU,uBAA4B2B,GAAuBH,GACzFhE,EAAKoE,qBAKRV,cAAe,WACd,GAAI1D,GAAOrC,IAEXqC,GAAKiD,KAAOjD,EAAKD,aAAasE,WAC7BC,WAAY,kBACZC,MAAO,GACPC,OAAQ,GACRC,YAAa,GACbC,WAAY,GACZC,WACCC,QAAS,UAEP7F,KAAM,cAGX8E,aAAc,SAAU5B,GACvB,GAAIjC,GAAOrC,IAGX,OAAKqC,GAAK6E,cAAe5C,OACxBjC,GAAK8D,SAKN9D,EAAK8E,iBAGL9E,EAAK+E,oBAGL/E,EAAKmD,WAAalB,EAASzD,QAC3BwB,EAAKoD,cAAgBnB,EAASG,WAC9BpC,EAAKqD,mBAAqBpB,EAASM,mBAGnCvC,GAAK4C,SAGNA,KAAM,WACL,GAAI5C,GAAOrC,IAEXqC,GAAKgF,aAGLhF,EAAKD,aAAaK,KAAM,SAAUlB,EAAEkB,KAAMJ,EAAKiF,cAAejF,IAG9DrC,KAAKoC,aAAasC,QAAS,0BAA2BlB,SAAU,kBAGhEnB,EAAKkF,SAGLtI,EAAG,QAASuE,SAAU,qBAGtBnB,EAAKmF,sBAAsB,IAEtB,IAAUnF,EAAKqD,oBACnBrD,EAAKmF,sBAAsB,GAG5BnF,EAAKsD,gBAAkBxG,EAAIsI,QAAS,iBAAmBC,OAAQrF,EAAKmD,YAAe,KAE9EnD,EAAKsD,kBACTtD,EAAKsF,gBAAkBpG,EAAEkB,KAAMJ,EAAKuF,oBAAqBvF,GACzDA,EAAKsD,gBAAgBkC,QAAQpF,KAAM,SAAUJ,EAAKsF,kBAInDrI,SAASwF,QAAS,yBAA2BG,MAAQ,EAAMpE,QAAWwB,EAAKmD,cAG5EW,MAAO,WACN,GAAI9D,GAAOrC,IAGXf,GAAG,QAAS8E,YAAa,qBAGzB1B,EAAKmF,sBAAsB,GAG3BlI,SAASwF,QAAS,yBAA2BG,MAAQ,EAAOpE,QAAWwB,EAAKmD,aAK5EvG,EAAG,4BAA6B+D,KAAM,0BAA2B8E,IAAK,aAAc,WAGpFzF,EAAK8E,iBAGL9E,EAAK+E,qBAGNA,kBAAmB,WAClB,GAAI/E,GAAOrC,IAGXqC,GAAKmD,WAAa,KAClBnD,EAAKoD,cAAgB,GAGrBpD,EAAKD,aAAa2F,SAGb1F,EAAKsD,kBACTtD,EAAKsD,gBAAgBkC,QAAQE,OAAQ,SAAU1F,EAAKsF,iBACpDtF,EAAKsD,gBAAkB,MAIxBtD,EAAKiD,KAAK0C,cAGXT,OAAQ,WACP,GAAiBnG,GAAML,EAAnBsB,EAAOrC,IAiBX,OAfAoB,GAAOiB,EAAK1B,MAAMsH,SAElB7G,EAAKqD,WAAapC,EAAKoD,eAGlB,IAASrE,EAAKN,SAClBM,EAAK8G,QAAU,WAGhB7F,EAAKU,IAAIC,KAAM,gBAAiBI,KAAMf,EAAKkD,SAAUnE,IAErDL,EAAUsB,EAAK1B,MAAMN,IAAK,WAE1BkB,EAAE0B,KAAMlC,EAAQoH,OAAQ9F,EAAK+F,cAAe/F,GAErCA,GAGRgF,WAAY,WACX,GAAiB/C,GAAbjC,EAAOrC,IAEXsE,GAAWnF,EAAIC,IAAI+F,cAAcnC,KAAM,SAAUrC,GAChD,MAAOA,GAAMN,IAAK,aAAgBgC,EAAKmD,aAInCjE,EAAE8G,QAAS/D,KACfA,EAAW,GAAInF,GAAIC,IAAIwB,eACtBC,QAAWwB,EAAKmD,cAKlBxF,KAAKsI,cAAetI,KAAKwF,WAAYlB,EAASjE,IAAK,WAGnDlB,EAAIC,IAAI+F,cAAcoD,IAAKjE,GAE3BjC,EAAK1B,MAAQ2D,GAGdkE,eAAgB,SAAUnE,GACzB,GAAIoE,EAEJA,GAAYxJ,EAAGoF,EAAMG,eAErBxE,KAAKW,MAAML,KACVQ,OAAU2H,EAAUlC,GAAI,cAIzBvG,KAAKsI,cAAetI,KAAKwF,WAAYiD,EAAUlC,GAAI,aAGnDvG,KAAK0I,iBAGNN,cAAe,SAAUO,GACxB,GAAIhI,GAAOiI,CAEJD,GAAOjJ,KAIdiB,EAAQX,KAAKW,MAAMN,IAAK,WAAYA,IAAKsI,EAAOjJ,IAGzCiB,GACNX,KAAKW,MAAMN,IAAK,WAAYkI,IAAKI,GAGlCC,EAAsB,GAAIzJ,GAAIC,IAAIyJ,YACjC5C,OAAQjG,KACRW,MAAOgI,EACPjJ,GAAI,cAAgBiJ,EAAOjJ,GAC3BoJ,UAAW,sBAGZF,EAAoBrB,WAGrBD,cAAe,WAGdtH,KAAK+I,wBAGLxH,EAAE0B,KAAMjD,KAAKgJ,eAAgBhJ,KAAKiJ,mBAAoBjJ,MAGtDA,KAAK0I,iBAGNO,mBAAoB,SAAUN,GAC7B,GAAIhI,GAAQX,KAAKW,MAAMN,IAAK,WAAYA,IAAKsI,EAAOjJ,GAE/C0F,UAAUzE,EAAMN,IAAK,KAAO,MAAS+E,SAAUuD,EAAOhJ,EAAG,KAC7DgB,EAAML,IAAK,IAAK8E,SAAUuD,EAAOhJ,EAAG,KAGhCyF,SAAUzE,EAAMN,IAAK,KAAO,MAAS+E,SAAUuD,EAAO/I,EAAG,KAC7De,EAAML,IAAK,IAAK8E,SAAUuD,EAAO/I,EAAG,KAGhCwF,SAAUzE,EAAMN,IAAK,KAAO,MAAS+E,SAAUuD,EAAO9I,EAAG,KAC7Dc,EAAML,IAAK,IAAK8E,SAAUuD,EAAO9I,EAAG,KAGhCuF,SAAUzE,EAAMN,IAAK,KAAO,MAAS+E,SAAUuD,EAAO7I,EAAG,KAC7Da,EAAML,IAAK,IAAK8E,SAAUuD,EAAO7I,EAAG,MAItCoH,cAAe,SAAU/D,GACxB,GAAId,GAAOrC,IAEX,OAAKmD,GAAStC,UAAYwB,EAAKmD,YACvB,GAGD,GAGRwD,aAAc,WACb,GAAIE,GAAMC,EAAM5H,EAAEJ,IAAKnB,KAAKoC,aAAaY,KAAM,4BAA8B,SAAUpB,GAGtF,MAFAA,GAAK3C,EAAG2C,GACRsH,EAAOtH,EAAGR,KAAM,oBAEf1B,GAAI6B,EAAE6H,OAAQxH,EAAG0B,KAAM,mBACvB3D,EAAGyF,SAAU8D,EAAKvJ,EAAG,IACrBC,EAAGwF,SAAU8D,EAAKtJ,EAAG,IACrBC,EAAGuF,SAAU8D,EAAKtC,MAAO,IACzB9G,EAAGsF,SAAU8D,EAAKrC,OAAQ,MAI5B,OAAOsC,IAGRE,iBAAkB,SAAUhF,GAC3B,GAAIiF,GAAOrK,EAAGoF,EAAMG,cAEpBH,GAAME,iBAED+E,EAAKzE,SAAU,WACnB7E,KAAKyG,kBAELzG,KAAKuJ,kBAIPA,eAAgB,WACf,GAAID,GAAOrK,EAAG,uBACbuK,EAAWxJ,KAAK4F,WAAW7C,GAE5BuG,GAAK9F,SAAU,WACfgG,EAAShG,SAAU,uBAGpBiD,gBAAiB,WAChB,GAAI6C,GAAOrK,EAAG,uBACbuK,EAAWxJ,KAAK4F,WAAW7C,GAE5BuG,GAAKvF,YAAa,WAClByF,EAASzF,YAAa,sBACtByF,EAASxG,KAAM,qBAAsByG,UAAW,GAGhDzJ,KAAK4F,WAAW8D,eAGjBX,sBAAuB,WACtB,GAAIV,IAAU,EACbsB,EAAQ3J,KAAKgJ,cAETW,IAAS,EAAIA,EAAMtG,SACvBgF,GAAU,GAGXrI,KAAKoC,aAAasC,QAAS,0BAA2BkF,YAAa,iBAAkBvB,IAGtFT,oBAAqB,SAAUC,GAC9B,GAAIxF,GAAOrC,IAEuB,KAA7B6H,EAAQgC,iBACZxH,EAAKmF,sBAAsB,GAE3BnF,EAAKmF,sBAAsB,IAI7BA,qBAAsB,SAAUsC,GAC/B9J,KAAK+C,IAAI6G,YAAa,oBAAqBE,IAG5CpB,cAAe,WACd,GAAIqB,GAAWC,EAAaC,EAAapC,CAEzCkC,GAAY,aAAerC,OAAQ1H,KAAKwF,YAAe,IAEvDwE,GACCE,KAAM,YACNC,UAAW,UACX3H,UAAWrD,EAAIqD,WAGhByH,EAAgBjK,KAAKW,MAAMsH,SAE3BgC,EAAYlJ,QAAUkJ,EAAYlJ,QAAQkH,SAGzCJ,EADI1I,EAAIiL,IAAKL,GACH5K,EAAK4K,GAEL5K,EAAIkL,OAAQN,EAAWA,KAAeC,GAIjDnC,EAAQyC,UAAUC,UAGXhJ,EAAEiJ,QAASP,EAAapC,EAAQxH,SACtCwH,EAAQvH,IAAK2J,GACbpC,EAAQ4C,YAIVtD,eAAgB,WACf,GAAIuD,GAAcC,CAElBD,GAAe,aAAehD,OAAQ1H,KAAKwF,YAAe,IAErDrG,EAAIiL,IAAKM,KACbC,EAAaxL,EAAKuL,GAClBC,EAAWL,UAAUC,UACrBI,EAAWrK,KAAK,GAChBqK,EAAWF,UACXE,EAAWC,QAAS,IAItBtC,cAAe,SAAUtD,EAAM6F,GAC9B,GAAIC,GAAQ7L,EAAG,+DAAiE+F,GAAOhC,KAAM,oBAC7F8H,GAAMlB,YAAa,mBAAoBiB,QAIrCtK,OAAOvB,GAAIwB,QC/ahB,SAAYxB,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAWdD,EAAIC,IAAIyJ,WAAa7J,EAAGM,SAASqC,KAAKnC,QACrCE,GAAI,KACJqL,QAAS,GACTC,MAAO,GACP1F,KAAM,KACNqD,OAAQ,KAER9G,QACCoJ,2BAA4B,aAC5BC,8BAA+B,aAC/BC,+BAAgC,eAChCC,0BAA2B,SAE3BC,qBAAsB,oBACtBC,oBAAqB,qBAGtBvL,WAAY,SAAUwL,GACrBvL,KAAKN,GAAOM,KAAKW,MAAMN,IAAK,MAC5BL,KAAKiG,OAAUsF,EAAQtF,OACvBjG,KAAKsF,KAAQiG,EAAQtF,OAAOX,MAG7BiC,OAAQ,WACP,GACCiE,GACAC,EAFGpJ,EAAOrC,IAIX,KAAOA,KAAKN,GACX,KAAM,IAAIgM,OAAO,6BAMlB,OAHA1L,MAAK2I,OAASxJ,EAAIwM,QAAQC,8BAA+B5L,KAAKN,IAGvDM,KAAK2I,QAMP,mBAAuB3I,MAAK2I,OAAOkD,gBACvC7L,KAAK2I,OAAOmD,eAIb9L,KAAKgL,MAAQhL,KAAK2I,OAAOoD,UAAU/I,KAAM,iBAAkBgJ,QAEtD/M,EAAGe,KAAKgL,OAAQhI,KAAM,MAAOK,OAAS,IAC1CrD,KAAKgL,MAAQ/L,EAAGe,KAAKgL,OAAQhI,KAAM,MAAOI,QAItCnE,EAAGe,KAAKgL,OAAQhI,KAAM,MAAOK,OAAS,IAC1CrD,KAAKgL,MAAQ/L,EAAGe,KAAKgL,OAAQhI,KAAM,MAAOI,QAG3CpD,KAAKgL,MAAQ/L,EAAG,QAASwE,OAAQzD,KAAKgL,OAGtCQ,EAAcvM,EAAGe,KAAK2I,OAAOoD,WAAY/I,KAAM,SAAUgJ,QAGzDhM,KAAK+C,IAAIO,KAAM,oBAAqB,GAGpCtD,KAAK+C,IAAIO,KAAM,iBAAkBtD,KAAKN,IAGtCM,KAAK+C,IAAIU,OAAQxE,EAAG,UAClBuE,SAAU,2BACVC,OAAQzD,KAAKgL,OACbvH,OAAQxE,EAAG,cACTuE,SAAU,mCAEZC,OAAQxE,EAAG,WACTqE,KAAM,KAAM,mBACZG,OAAQ+H,KAKPxL,KAAK2I,OAAOkD,gBAChB7L,KAAK+C,IAAIC,KAAM,WAAYiJ,OAG5BR,EAAwBlK,EAAE2K,SAAU,SAAU7H,GAC7ChC,EAAK8J,eAAgB9H,IACnB,KAEHmH,EAAYvL,GAAI,UAAW,QAAS,SAAUoE,GACxC,KAAOA,EAAM+H,QACjB/H,EAAME,iBACNlC,EAAK8J,eAAgB9H,MAKvBmH,EAAYvL,GAAI,8BAA+B,SAAU,SAAUoE,GAC3DhC,EAAKsG,OAAOkD,iBAId,WAAaxH,EAAM6F,MAAUlK,KAAKqM,eAAiBrM,KAAKqM,kBAC5DZ,EAAuBpH,KAKzBrE,KAAK2I,OAAOd,QAAQrF,UAAU8J,QAAQ7J,KAAM,SAAU,WACrDJ,EAAKkK,YAAY,KAGlBpN,EAAIqD,UAAUC,KAAM,iBAAkB,SAAU+J,GAC1CA,IAAoBnK,EAAKsG,OAAO8D,OAAOC,WAC3CrK,EAAKkK,YAAY,KAIVvM,KAAKW,MAAMN,IAAK,MAAeL,KAAKW,MAAMN,IAAK,MAAeL,KAAKW,MAAMN,IAAK,MAAeL,KAAKW,MAAMN,IAAK,KAUrHL,KAAKsF,KAAKqH,WAAY3M,KAAK+C,IAAK/C,KAAKW,MAAMN,IAAK,KAAOL,KAAKW,MAAMN,IAAK,KAAOL,KAAKW,MAAMN,IAAK,KAAOL,KAAKW,MAAMN,IAAK,OAPrHL,KAAKsF,KAAKqH,WAAY3M,KAAK+C,IAAK,EAAG,EAAG,EAAG,GAAG,GAG5C/C,KAAK4M,cAQN5M,KAAKiG,OAAOqB,gBAELtH,UAnGNA,MAAKW,MAAMkM,WAAW/I,OAAQ9D,KAAKW,QAsGrCiM,WAAY,WACX,GAAIE,GAASC,EAAenG,EAAOC,EAAQmG,EAAuBC,CAElEF,GAAgB9N,EAAG,qBACnB6N,EAAUC,EAAc/J,KAAM,oBAAsB0E,OAAQ1H,KAAKN,IAAO,+BAEjEoN,EAAQjI,SAAU,8BA4CxBiI,EAAQI,SAAUrG,OAAU,MAAQ,IAAK,WACxCiG,EAAQ/I,YAAa,8BACrB+I,EAAQ/I,YAAa,+BACrB+I,EAAQlG,MAAO,WA7ChB3H,EAAG,+BAAgCkO,IAAKL,GAAUI,SAAUrG,OAAU,MAAQ,IAAK,WAClF5H,EAAGe,MAAO+D,YAAa,8BACvB9E,EAAGe,MAAO4G,MAAO,UAGlBkG,EAAQtJ,SAAU,8BAGjBoD,GADI,IAAS5G,KAAK2I,OAAO8D,OAAOW,QACxBpN,KAAK2I,OAAO8D,OAAO7F,MAEnB,IAGJA,GAASkG,EAAQpI,QAAS,oBAAqBkC,UACnDA,GAAQ,GAIJA,GAAaA,EAAJ,IACboG,EAAwBD,EAAcnG,QAAUmG,EAAcM,SAASC,KACvEL,EAAkBrG,EAAQkG,EAAQO,SAASC,KAEtCL,GAAmBD,GACvBF,EAAQtJ,SAAU,gCASfoD,GAAaA,EAAJ,EACbkG,EAAQI,SAAWtG,MAASA,GAAS,IAAK,WACzCC,EAASiG,EAAQS,KAAM,gBACvBT,EAAQI,SAAWrG,OAAUA,GAAU,QAGxCA,EAASiG,EAAQS,KAAM,gBACvBT,EAAQI,SAAWrG,OAAUA,GAAU,QAW1CsF,eAAgB,SAAU9H,GACzB,GACCmJ,GACAC,EACAC,EAHGrL,EAAOrC,IAKXwN,GAAcxN,KAAK2I,OAAOoD,UAAU/I,KAAM,iBAC1CyK,EAAiBD,EAAYxK,KAAM,yBAG9BhD,KAAK2I,OAAOgF,WAAYF,GAAiBG,cAAgB5N,KAAK2I,OAAOgF,WAAY1O,EAAGoF,EAAMG,eAAgBE,QAAS,SAAU1B,KAAM,0BAA4B4K,cAK/JJ,EAAYxK,KAAM,UACtBwK,EAAYxK,KAAM,SAAUc,SAG7B4J,EAAazO,EAAGoF,EAAMG,eAAgBE,QAAS,SAAUsH,QAGzD/M,EAAGoF,EAAMG,eAAgBE,QAAS,SAAU1B,KAAM,UAAWC,KAAM,SAAU4K,GACzEH,EAAW1K,KAAM,UAAW8K,GAAID,GAAIE,IAAK9O,EAAGe,MAAO+N,SAGvDP,EAAYxK,KAAM,wBAAyBgL,QAASN,GAEpD1N,KAAKuM,YAAY,GAEjBvM,KAAK2I,OAAOmD,cAGXmC,SAAU,SAAUC,EAASC,GACvBA,GAAUA,EAAOC,cAAgBD,EAAOE,UAC5ChM,EAAKkK,YAAY,QAMrB+B,OAAQ,SAAUjK,GAEjB,MADArE,MAAKmM,eAAgB9H,IACd,GAGRkK,aAAc,SAAUlK,GACvB,GAAImK,GAAmBC,EAAgBC,EAAiBC,EAAehG,CAEvEtE,GAAME,iBAGNpF,EAAIsI,QAAQ3D,OAAQ9D,KAAK2I,OAAOjJ,IAChCM,KAAK2I,OAAOoD,UAAUjI,SAGtB0K,EAAoBrP,EAAIyP,MAAO,mCAAoCC,QAEnEJ,EAAiBlN,EAAEuN,QAASN,EAAmBxO,KAAKN,IAE5B,KAAnB+O,IACJD,EAAkBO,OAAQN,EAAgB,GAC1CtP,EAAIyP,MAAO,iCAAmCrN,EAAGiN,GAAoBQ,WAOjE7P,EAAIwM,QAAQsD,eAAgBjP,KAAKN,MACrCgP,EAAkBvP,EAAIyP,MAAO,2CAA4CC,QACzEH,EAAgBQ,KAAMlP,KAAKN,IAC3BP,EAAIyP,MAAO,yCAA2CrN,EAAGmN,GAAkBM,WAI5EL,EAAgB3O,KAAKmP,cAAenP,KAAK2I,OAAOjJ,IAAKqL,QAErDpC,EAASxJ,EAAIwM,QAAQyD,iBAAiBC,WAAatE,QAAS4D,IACvDhG,IAAYA,EAAOtI,IAAK,aAC5BsI,EAAOrI,IAAK,eAAe,GAI5BN,KAAKW,MAAMkM,WAAW/I,OAAQ9D,KAAKW,OAGnCX,KAAKsF,KAAKgK,cAAetP,KAAK+C,KAG9B/C,KAAKiG,OAAO8C,yBAGbwG,kBAAmB,SAAUlL,GAC5B,GAAuCmL,GAAnCC,EAASxQ,EAAGoF,EAAMG,cAGjB,WAAYxE,KAAKN,GAAK,WAAa+P,EAAOnM,KAAM,QACpDkM,EAASxP,KAAK+C,IAAIC,KAAM,MAEnBwM,EACJA,EAAOxM,KAAM,oBAAqB2B,KAAM,KAAO8K,EAAO1B,OAEtDyB,EAAO/L,OAAQxE,EAAG,YAAauE,SAAU,mBAAoBmB,KAAM,KAAO8K,EAAO1B,QAG7E,KAAO0B,EAAO1B,OAClByB,EAAOxM,KAAM,oBAAqB2B,KAAM,MAO3C4H,WAAY,SAAUA,GACrBvM,KAAK+C,IAAIC,KAAM,4BAA6B4G,YAAa,sBAAuB2C,IAOjF4C,cAAe,SAAUO,GACxB,GAAIC,GAASC,GACZC,OAAQ,KACR9E,QAAS,KAaV,OAVA4E,GAAUD,EAASI,MAAO,gBACrBH,GACJC,EAAO7E,QAAU4E,EAAQ,GACzBC,EAAOC,OAASzK,SAAUuK,EAAQ,GAAI,KAItCC,EAAO7E,QAAU2E,EAGXE,OAILrP,OAAOvB,GAAIwB,QCtWhB,SAAYxB,EAAIC,GAEf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAWdD,EAAIC,IAAI4G,eAAiBhH,EAAGM,SAASqC,KAAKnC,QACzCoC,GAAI,mBAEJC,QACCkO,mBAAoB,YACpBC,4BAA6B,iBAC7BC,4BAA6B,kBAG9BhK,OAAQ,KACRlF,QAAS,KACTmP,eAAgB,KAChBC,WAAY,GAEZpQ,WAAY,SAAUwL,GACrBvL,KAAKiG,OAASsF,EAAQtF,OAEtBjG,KAAKe,QAAU5B,EAAIwM,QAAQyD,iBAE3BpP,KAAKoQ,SAAUpQ,KAAKe,QAAS,SAAUf,KAAKqQ,YAE5CrQ,KAAKkQ,eAAiB3O,EAAE2K,SAAUlM,KAAKsQ,cAAe,KAEtDtQ,KAAKuQ,eAGNA,YAAa,WACZ,GAAIlO,GAAOrC,IACXA,MAAKe,QAAQkC,KAAM,SAAU0F,GAC5B1J,EAAG,oDAAsD0J,EAAOtI,IAAK,WAAc,SAAWsI,EAAOtI,IAAK,QAAW,WAAasI,EAAOtI,IAAK,eAAkB,cAAemQ,SAAUnO,EAAKU,IAAIC,KAAM,yBAI1MqN,WAAY,WACXrQ,KAAKe,QAAQkC,KAAM,SAAU0F,GAC5B,GAAI8H,GAAYxR,EAAG,kCAAoC0J,EAAOtI,IAAK,WAAc,IACjFoQ,GAAU7G,YAAa,OAAQjB,EAAOtI,IAAK,oBAAwBsI,EAAOtI,IAAK,mBAIjFqQ,UAAW,SAAUrM,GACpB,GAAIsE,GAAS3I,KAAK2Q,eAAgB1R,EAAGoF,EAAMG,eAAgBE,QAAS,cAAepB,KAAM,wBAErFsN,EAAiB,GAAIzR,GAAIC,IAAIC,aAChCK,GAAIiJ,EAAO8D,OAAOC,WAGnB1M,MAAKiG,OAAOQ,kBAEZzG,KAAKiG,OAAOmC,cAAewI,IAG5BD,eAAgB,SAAUE,GACzB,GAAIC,GAAoEnI,EAA7CoI,EAAY,+BAUvC,OARAD,GAAwB3R,EAAIsI,QAASsJ,GAGrCpI,EAASmI,EAAsBE,UAAWH,GAG1C7Q,KAAKe,QAAQkQ,SAAUjR,KAAKmQ,YAErBxH,GAGR2H,cAAe,SAAUjM,GACxBrE,KAAKmQ,WAAa9L,EAAMiC,OAAOsI,MAC/B5O,KAAKe,QAAQkQ,SAAUjR,KAAKmQ,aAG7BzG,YAAa,WACZ1J,KAAKe,QAAQkQ,SAAU,IACvBjR,KAAK+C,IAAIC,KAAM,uBAAwB+K,IAAK,SAI1CxN,OAAOvB,GAAIwB,QChGhB,SAAYxB,EAAIC,GACf,YAEA,IAAOD,GAAQA,EAAGE,UAAlB,CAGA,GAAIC,GAAMH,EAAGE,SAEbC,GAAIC,IAAMD,EAAIC,QAGdD,EAAIC,IAAIgC,MACPC,mBAGI,mBAAuB6P,0BAC3BjS,EAAEO,OAAQL,EAAIC,IAAIgC,KAAM8P,yBAIzB/R,EAAIC,IAAI+F,cAAgB,GAAIhG,GAAIC,IAAIqC,oBAKpCtC,EAAIsD,KAAM,QAAS,WAClBtD,EAAIC,IAAI+R,UAAY,GAAIhS,GAAIC,IAAIsC,uBAIhCvC,EAAIsD,KAAM,QAAS,SAAUrB,GAC5B,GAAIqL,GAAQ2E,EAA2B9M,EAAlB+M,IAGhBjQ,GAAKkQ,wBACTrS,EAAEgE,KAAM7B,EAAKkQ,sBAAuB,SAAUC,EAAKvM,GAG3CA,EAAKwM,OAAS,aAAexM,EAAKmJ,SACxC7J,EAAWnF,EAAIC,IAAI+F,cAAcnC,KAAM,SAAUrC,GAChD,MAAOA,GAAMN,IAAK,aAAgB2E,EAAKyM,mBAIjClQ,EAAE8G,QAAS/D,IACjBA,EAAShE,KACRO,QAAWmE,EAAK0M,UAKlBvS,EAAIqD,UAAUmP,aAKhB3N,WAAY,WACX7E,EAAIC,IAAI+R,UAAUvO,cAChB,MAGJzD,EAAIC,IAAI+F,cAAclC,KAAM,SAAUtC,GACrC,GAAI2D,GAAW3D,EAAMsH,QACrB3D,GAASvD,QAAUuD,EAASvD,QAAQkH,SACpC3D,EAASvD,QAAUQ,EAAEC,OAAQ8C,EAASvD,QAAS,KAC/CsQ,EAAYnC,KAAM5K,KAGnBmI,GACCrL,KAAQiQ,EACRO,MAASzS,EAAIC,IAAIgC,KAAKwQ,OAIvBR,EAAUpS,EAAG6S,KAAKC,KAAM,gBAAiBrF,GAEzC2E,EAAQW,KAAM,SAAU3Q,GAGvB,MAAK,MAAQA,GACZjC,EAAIqD,UAAUiI,QAAQuH,OAAO/F,WAC7B9M,GAAIqD,UAAUyP,QAAQF,KAAM,WAG3B5S,EAAIiB,MAAO,SAAUE,KAAK,GAC1BnB,EAAIqD,UAAUiI,QAAQuH,OAAOE,UAM1B,OAAS9Q,MACbjC,GAAIqD,UAAU2P,UADf,SAMDf,EAAQgB,KAAM,SAAUhR,GAClB,mBAAuBiR,UAAWA,QAAQb,OAC9Ca,QAAQb,MAAOpQ,SAOnBjC,EAAIsD,KAAM,gBAAiB,SAAU6P,GACpCnT,EAAIC,IAAIgC,KAAKwQ,MAAQU,EAAO,sBAEzB/R,OAAOvB,GAAIwB"}